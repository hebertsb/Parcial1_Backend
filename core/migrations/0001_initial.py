# Generated by Django 5.2.6 on 2025-09-23 05:50

import datetime
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('authz', '__first__'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CamaraSeguridad',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo_camara', models.CharField(max_length=50, unique=True)),
                ('nombre_ubicacion', models.CharField(max_length=100)),
                ('ip_address', models.GenericIPAddressField(unique=True)),
                ('puerto', models.IntegerField(default=80)),
                ('tipo_camara', models.CharField(default='ip', max_length=30)),
                ('estado', models.CharField(choices=[('activa', 'Activa'), ('inactiva', 'Inactiva'), ('mantenimiento', 'Mantenimiento')], default='activa', max_length=30)),
                ('ultima_conexion', models.DateTimeField(blank=True, null=True)),
                ('ultima_deteccion', models.DateTimeField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ConfiguracionSistema',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('clave', models.CharField(max_length=100, unique=True)),
                ('valor', models.TextField()),
                ('tipo_dato', models.CharField(choices=[('string', 'String'), ('number', 'Number'), ('boolean', 'Boolean'), ('json', 'JSON')], default='string', max_length=20)),
                ('categoria', models.CharField(default='general', max_length=50)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('editable_por_admin', models.BooleanField(default=True)),
                ('requiere_reinicio_sistema', models.BooleanField(default=False)),
            ],
        ),
        migrations.CreateModel(
            name='EspacioComun',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=100, unique=True)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('capacidad_maxima', models.IntegerField(default=10)),
                ('precio_por_hora', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('precio_evento_completo', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('es_gratuito', models.BooleanField(default=False)),
                ('horario_apertura', models.TimeField(default=datetime.time(6, 0))),
                ('horario_cierre', models.TimeField(default=datetime.time(22, 0))),
                ('dias_disponibles', models.JSONField(default=list)),
                ('requiere_pago', models.BooleanField(default=False)),
                ('requiere_deposito_garantia', models.BooleanField(default=False)),
                ('monto_deposito', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('genera_ingresos', models.BooleanField(default=False)),
                ('reserva_maxima_dias_anticipacion', models.IntegerField(default=30)),
                ('reserva_minima_horas_anticipacion', models.IntegerField(default=24)),
                ('activo', models.BooleanField(default=True)),
                ('imagen_url', models.URLField(blank=True, null=True)),
                ('reglas_uso', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ExpensasMensuales',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periodo_year', models.IntegerField()),
                ('periodo_month', models.IntegerField()),
                ('monto_base_administracion', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('monto_mantenimiento', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('monto_servicios_comunes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('monto_seguridad', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('monto_total', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('total_ingresos_expensas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_ingresos_multas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_ingresos_reservas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_ingresos_otros', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_egresos_salarios', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_egresos_mantenimiento', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_egresos_servicios', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('total_egresos_mejoras', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('saldo_inicial_periodo', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('saldo_final_periodo', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('fecha_generacion', models.DateTimeField(auto_now_add=True)),
                ('archivo_reporte_url', models.URLField(blank=True, null=True)),
                ('enviado_personas', models.BooleanField(default=False)),
                ('fecha_envio', models.DateTimeField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('parcial', 'Parcial'), ('pagada', 'Pagada'), ('vencida', 'Vencida'), ('morosa', 'Morosa')], default='pendiente', max_length=20)),
            ],
        ),
        migrations.CreateModel(
            name='FondoCondominio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_fondo', models.CharField(max_length=100, unique=True)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('saldo_actual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('saldo_minimo_requerido', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('porcentaje_asignacion_expensas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('activo', models.BooleanField(default=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True)),
                ('requiere_aprobacion_gastos', models.BooleanField(default=False)),
                ('limite_gasto_sin_aprobacion', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
            ],
        ),
        migrations.CreateModel(
            name='IndicadoresFinancieros',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_calculo', models.DateField(auto_now_add=True)),
                ('morosidad_porcentaje', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('morosidad_monto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('ingresos_mes_actual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('ingresos_mes_anterior', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('variacion_ingresos_porcentaje', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('egresos_mes_actual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('egresos_mes_anterior', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('variacion_egresos_porcentaje', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('flujo_caja_mes', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('saldo_total_fondos', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('ratio_gastos_ingresos', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
            ],
        ),
        migrations.CreateModel(
            name='MetricasSeguridadIA',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_reporte', models.DateField(auto_now_add=True, unique=True)),
                ('total_accesos_no_autorizados', models.IntegerField(default=0)),
                ('total_incidentes_detectados', models.IntegerField(default=0)),
                ('total_falsas_alarmas', models.IntegerField(default=0)),
                ('precision_reconocimiento_facial', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('precision_ocr_placas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('tiempo_respuesta_promedio_alertas', models.IntegerField(default=0)),
                ('camaras_operativas', models.IntegerField(default=0)),
                ('camaras_total', models.IntegerField(default=0)),
                ('detecciones_vehiculos_mes', models.IntegerField(default=0)),
                ('detecciones_personas_mes', models.IntegerField(default=0)),
                ('detecciones_anomalias_mes', models.IntegerField(default=0)),
                ('multas_generadas_automaticamente', models.IntegerField(default=0)),
            ],
        ),
        migrations.CreateModel(
            name='Persona',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=100)),
                ('apellido', models.CharField(max_length=100)),
                ('documento_identidad', models.CharField(max_length=20, unique=True)),
                ('tipo_documento', models.CharField(default='CI', max_length=20)),
                ('telefono', models.CharField(blank=True, max_length=20, null=True)),
                ('email', models.EmailField(max_length=100, unique=True)),
                ('fecha_nacimiento', models.DateField()),
                ('estado_civil', models.CharField(blank=True, max_length=20, null=True)),
                ('profesion', models.CharField(blank=True, max_length=100, null=True)),
                ('tipo_persona', models.CharField(choices=[('propietario', 'Propietario'), ('inquilino', 'Inquilino'), ('familiar', 'Familiar'), ('personal_servicio', 'Personal de servicio')], max_length=20)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('activo', models.BooleanField(default=True)),
            ],
        ),
        migrations.CreateModel(
            name='ReglamentoCondominio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('contenido', models.TextField()),
                ('categoria', models.CharField(default='general', max_length=50)),
                ('articulo_numero', models.IntegerField()),
                ('seccion', models.CharField(blank=True, max_length=100, null=True)),
                ('fecha_aprobacion', models.DateField()),
                ('vigente', models.BooleanField(default=True)),
            ],
        ),
        migrations.CreateModel(
            name='TiposInfracciones',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo', models.CharField(max_length=20, unique=True)),
                ('nombre', models.CharField(max_length=100)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('monto_multa', models.DecimalField(decimal_places=2, max_digits=10)),
                ('genera_restriccion', models.BooleanField(default=False)),
                ('tipo_restriccion', models.CharField(blank=True, max_length=50, null=True)),
                ('detectable_por_ia', models.BooleanField(default=False)),
                ('nivel_confianza_minima', models.DecimalField(decimal_places=4, default=Decimal('0.8500'), max_digits=5)),
                ('requiere_verificacion_humana', models.BooleanField(default=True)),
                ('activo', models.BooleanField(default=True)),
            ],
        ),
        migrations.CreateModel(
            name='Vivienda',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_casa', models.CharField(max_length=20, unique=True)),
                ('bloque', models.CharField(blank=True, max_length=10, null=True)),
                ('tipo_vivienda', models.CharField(choices=[('casa', 'Casa'), ('departamento', 'Departamento'), ('local', 'Local')], max_length=50)),
                ('metros_cuadrados', models.DecimalField(decimal_places=2, max_digits=8)),
                ('tarifa_base_expensas', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tipo_cobranza', models.CharField(choices=[('por_casa', 'Por casa'), ('por_metro_cuadrado', 'Por metro cuadrado')], max_length=30)),
                ('estado', models.CharField(choices=[('activa', 'Activa'), ('inactiva', 'Inactiva'), ('mantenimiento', 'Mantenimiento')], default='activa', max_length=20)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='BitacoraAcciones',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_hora', models.DateTimeField(auto_now_add=True)),
                ('descripcion', models.TextField()),
                ('ip_address', models.GenericIPAddressField()),
                ('modulo_afectado', models.CharField(max_length=50)),
                ('accion_tipo', models.CharField(choices=[('CREATE', 'Create'), ('UPDATE', 'Update'), ('DELETE', 'Delete'), ('LOGIN', 'Login'), ('LOGOUT', 'Logout')], max_length=30)),
                ('tabla_afectada', models.CharField(max_length=50)),
                ('registro_id', models.IntegerField()),
                ('datos_antes', models.JSONField(default=dict)),
                ('datos_despues', models.JSONField(default=dict)),
                ('rol', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to='authz.rol')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ComunicadosAdministracion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('contenido', models.TextField()),
                ('tipo_comunicado', models.CharField(default='general', max_length=30)),
                ('dirigido_a', models.JSONField(default=list)),
                ('fecha_publicacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_expiracion', models.DateTimeField(blank=True, null=True)),
                ('canal_publicacion', models.JSONField(default=list)),
                ('adjuntos', models.JSONField(default=list)),
                ('requiere_confirmacion_lectura', models.BooleanField(default=False)),
                ('leido_por', models.JSONField(default=list)),
                ('prioridad', models.CharField(choices=[('baja', 'Baja'), ('media', 'Media'), ('alta', 'Alta'), ('urgente', 'Urgente')], default='media', max_length=20)),
                ('activo', models.BooleanField(default=True)),
                ('publicado_por', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='DeteccionIA',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_deteccion', models.CharField(max_length=100)),
                ('descripcion_automatica', models.TextField()),
                ('ubicacion_deteccion', models.CharField(max_length=100)),
                ('fecha_hora_deteccion', models.DateTimeField(auto_now_add=True)),
                ('imagen_captura_url', models.URLField(blank=True, null=True)),
                ('video_evidencia_url', models.URLField(blank=True, null=True)),
                ('nivel_confianza', models.DecimalField(decimal_places=4, default=Decimal('0.0000'), max_digits=5)),
                ('coordenadas_deteccion', models.JSONField(default=dict)),
                ('metadatos_deteccion', models.JSONField(default=dict)),
                ('estado_verificacion', models.CharField(default='pendiente', max_length=30)),
                ('fecha_verificacion', models.DateTimeField(blank=True, null=True)),
                ('requiere_accion_inmediata', models.BooleanField(default=False)),
                ('tipo_anomalia', models.CharField(blank=True, max_length=50, null=True)),
                ('genero_multa', models.BooleanField(default=False)),
                ('proveedor_ia', models.CharField(default='Amazon', max_length=50)),
                ('camara', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.camaraseguridad')),
                ('verificada_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='LogSistema',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_hora', models.DateTimeField(auto_now_add=True)),
                ('nivel', models.CharField(choices=[('DEBUG', 'Debug'), ('INFO', 'Info'), ('WARNING', 'Warning'), ('ERROR', 'Error'), ('CRITICAL', 'Critical')], default='INFO', max_length=20)),
                ('modulo', models.CharField(max_length=50)),
                ('accion', models.CharField(max_length=100)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True, null=True)),
                ('mensaje', models.TextField()),
                ('datos_adicionales', models.JSONField(default=dict)),
                ('procesado', models.BooleanField(default=False)),
                ('requiere_atencion', models.BooleanField(default=False)),
                ('usuario_id', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Mantenimiento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('descripcion', models.TextField()),
                ('tipo', models.CharField(choices=[('preventivo', 'Preventivo'), ('correctivo', 'Correctivo')], max_length=50)),
                ('fecha_programada', models.DateField(blank=True, null=True)),
                ('fecha_realizacion', models.DateField(blank=True, null=True)),
                ('costo', models.DecimalField(decimal_places=2, default=Decimal('0'), max_digits=10)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('en_progreso', 'En progreso'), ('completado', 'Completado'), ('cancelado', 'Cancelado')], default='pendiente', max_length=30)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True)),
                ('creado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='creador_mantenimiento', to=settings.AUTH_USER_MODEL)),
                ('responsable', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='MovimientosFinancieros',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_movimiento', models.CharField(choices=[('ingreso', 'Ingreso'), ('egreso', 'Egreso'), ('transferencia_interna', 'Transferencia Interna'), ('ajuste', 'Ajuste')], max_length=30)),
                ('concepto', models.CharField(max_length=200)),
                ('monto', models.DecimalField(decimal_places=2, max_digits=12)),
                ('fecha_movimiento', models.DateField()),
                ('categoria', models.CharField(max_length=50)),
                ('proveedor_beneficiario', models.CharField(blank=True, max_length=100, null=True)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('ejecutado', 'Ejecutado'), ('anulado', 'Anulado')], default='ejecutado', max_length=30)),
                ('comprobante_numero', models.CharField(blank=True, max_length=100, null=True)),
                ('comprobante_archivo', models.URLField(blank=True, null=True)),
                ('autorizado_por', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to=settings.AUTH_USER_MODEL)),
                ('fondo', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to='core.fondocondominio')),
            ],
        ),
        migrations.CreateModel(
            name='MultasSanciones',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descripcion_detallada', models.TextField()),
                ('monto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('fecha_infraccion', models.DateTimeField(auto_now_add=True)),
                ('ubicacion_infraccion', models.CharField(max_length=100)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('notificada', 'Notificada'), ('pagada', 'Pagada'), ('anulada', 'Anulada'), ('en_disputa', 'En disputa')], default='pendiente', max_length=30)),
                ('evidencia_fotos', models.JSONField(default=list)),
                ('generada_por_ia', models.BooleanField(default=False)),
                ('nivel_confianza_ia', models.DecimalField(decimal_places=4, max_digits=5)),
                ('fecha_notificacion', models.DateTimeField(blank=True, null=True)),
                ('fecha_pago', models.DateTimeField(blank=True, null=True)),
                ('metodo_notificacion', models.JSONField(default=list)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('requiere_audiencia', models.BooleanField(default=False)),
                ('camara_origen', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.camaraseguridad')),
                ('deteccion_ia', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.deteccionia')),
                ('verificada_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('persona_infractor', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, related_name='infractores', to='core.persona')),
                ('persona_responsable', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to='core.persona')),
                ('tipo_infraccion', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to='core.tiposinfracciones')),
            ],
        ),
        migrations.CreateModel(
            name='Notificacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('mensaje', models.TextField()),
                ('tipo', models.CharField(choices=[('pago', 'Pago'), ('seguridad', 'Seguridad'), ('mantenimiento', 'Mantenimiento'), ('reserva', 'Reserva'), ('general', 'General')], max_length=50)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True)),
                ('enviada', models.BooleanField(default=False)),
                ('fecha_envio', models.DateTimeField(blank=True, null=True)),
                ('leida', models.BooleanField(default=False)),
                ('fecha_lectura', models.DateTimeField(blank=True, null=True)),
                ('origen_evento', models.CharField(blank=True, max_length=50, null=True)),
                ('origen_id', models.IntegerField(blank=True, null=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Mascota',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=50)),
                ('tipo_animal', models.CharField(max_length=30)),
                ('raza', models.CharField(blank=True, max_length=50, null=True)),
                ('edad', models.IntegerField(blank=True, null=True)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('vacunas_vigentes', models.BooleanField(default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('activo', models.BooleanField(default=True)),
                ('propietario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='FamiliarResidente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('parentesco', models.CharField(max_length=50)),
                ('autorizado_acceso', models.BooleanField(default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('activo', models.BooleanField(default=True)),
                ('familiar', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='familiares', to='core.persona')),
                ('persona_principal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='familiares_principales', to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='AvisosPersonalizados',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('mensaje', models.TextField()),
                ('tipo_aviso', models.CharField(max_length=50)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_programada_envio', models.DateTimeField(auto_now_add=True)),
                ('fecha_envio', models.DateTimeField(blank=True, null=True)),
                ('canales_envio', models.JSONField(default=list)),
                ('estado_envio', models.CharField(choices=[('programado', 'Programado'), ('enviado', 'Enviado'), ('fallido', 'Fallido')], default='programado', max_length=30)),
                ('fecha_lectura', models.DateTimeField(blank=True, null=True)),
                ('accion_requerida', models.BooleanField(default=False)),
                ('url_accion', models.URLField(blank=True, null=True)),
                ('generado_automaticamente', models.BooleanField(default=False)),
                ('persona_destinatario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='ReconocimientoFacial',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('vector_facial', models.TextField()),
                ('imagen_referencia_url', models.URLField(blank=True, null=True)),
                ('activo', models.BooleanField(default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('proveedor_ia', models.CharField(default='Microsoft', max_length=50)),
                ('confianza_modelo', models.DecimalField(decimal_places=4, default=Decimal('0.8500'), max_digits=5)),
                ('ultima_actualizacion', models.DateTimeField(auto_now=True)),
                ('numero_entrenamientos', models.IntegerField(default=1)),
                ('persona', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='ReservaEspacio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_reserva', models.DateField()),
                ('hora_inicio', models.TimeField()),
                ('hora_fin', models.TimeField()),
                ('tipo_evento', models.CharField(blank=True, max_length=100, null=True)),
                ('estado', models.CharField(choices=[('solicitada', 'Solicitada'), ('confirmada', 'Confirmada'), ('pagada', 'Pagada'), ('en_uso', 'En uso'), ('completada', 'Completada'), ('cancelada', 'Cancelada'), ('no_show', 'No Show')], default='solicitada', max_length=30)),
                ('monto_total', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('monto_deposito', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('fecha_solicitud', models.DateTimeField(auto_now_add=True)),
                ('fecha_pago', models.DateTimeField(blank=True, null=True)),
                ('fecha_confirmacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_cliente', models.TextField(blank=True, null=True)),
                ('observaciones_admin', models.TextField(blank=True, null=True)),
                ('calificacion_post_uso', models.IntegerField(blank=True, choices=[(1, '1 estrella'), (2, '2 estrellas'), (3, '3 estrellas'), (4, '4 estrellas'), (5, '5 estrellas')], null=True)),
                ('comentarios_post_uso', models.TextField(blank=True, null=True)),
                ('aprobada_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('espacio_comun', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.espaciocomun')),
                ('persona', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='Pagos',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_pago', models.CharField(choices=[('expensa', 'Expensa'), ('multa', 'Multa'), ('reserva', 'Reserva'), ('servicios_adicionales', 'Servicios Adicionales')], max_length=30)),
                ('monto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('fecha_pago', models.DateTimeField(auto_now_add=True)),
                ('metodo_pago', models.CharField(max_length=30)),
                ('numero_comprobante', models.CharField(blank=True, max_length=100, null=True)),
                ('comprobante_archivo', models.URLField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('procesado', 'Procesado'), ('rechazado', 'Rechazado'), ('pendiente_verificacion', 'Pendiente Verificación'), ('reembolsado', 'Reembolsado')], default='procesado', max_length=30)),
                ('expensa', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.expensasmensuales')),
                ('multa', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.multassanciones')),
                ('procesado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('persona', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, to='core.persona')),
                ('reserva', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.reservaespacio')),
            ],
        ),
        migrations.CreateModel(
            name='TareaMantenimiento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descripcion', models.TextField()),
                ('fecha_inicio', models.DateField(blank=True, null=True)),
                ('fecha_fin', models.DateField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('en_progreso', 'En progreso'), ('finalizada', 'Finalizada')], default='pendiente', max_length=30)),
                ('asignado_a', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('mantenimiento', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.mantenimiento')),
            ],
        ),
        migrations.CreateModel(
            name='Vehiculo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('placa', models.CharField(max_length=20, unique=True)),
                ('marca', models.CharField(max_length=50)),
                ('modelo', models.CharField(max_length=50)),
                ('color', models.CharField(max_length=30)),
                ('tipo_vehiculo', models.CharField(choices=[('auto', 'Auto'), ('moto', 'Moto'), ('bicicleta', 'Bicicleta'), ('camion', 'Camión')], max_length=20)),
                ('tag_numero', models.CharField(max_length=50, unique=True)),
                ('tag_activo', models.BooleanField(default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('activo', models.BooleanField(default=True)),
                ('propietario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='LecturaPlacaOCR',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('placa_detectada', models.CharField(max_length=20)),
                ('fecha_hora_lectura', models.DateTimeField(auto_now_add=True)),
                ('imagen_placa_url', models.URLField(blank=True, null=True)),
                ('nivel_confianza_ocr', models.DecimalField(decimal_places=4, default=Decimal('0.0000'), max_digits=5)),
                ('estado_verificacion', models.CharField(default='automatica', max_length=30)),
                ('acceso_autorizado', models.BooleanField(default=False)),
                ('camara', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.camaraseguridad')),
                ('vehiculo_registrado', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.vehiculo')),
            ],
        ),
        migrations.CreateModel(
            name='AccesoVehicular',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('placa_detectada', models.CharField(max_length=20)),
                ('tipo_acceso', models.CharField(default='propietario_tag', max_length=50)),
                ('metodo_deteccion', models.CharField(default='tag_rfid', max_length=30)),
                ('fecha_hora_entrada', models.DateTimeField()),
                ('fecha_hora_salida', models.DateTimeField(blank=True, null=True)),
                ('puerta_utilizada', models.CharField(default='propietarios', max_length=20)),
                ('acceso_autorizado', models.BooleanField(default=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('foto_entrada_url', models.URLField(blank=True, null=True)),
                ('foto_salida_url', models.URLField(blank=True, null=True)),
                ('guardia_entrada', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='guardia_entrada', to=settings.AUTH_USER_MODEL)),
                ('guardia_salida', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='guardia_salida', to=settings.AUTH_USER_MODEL)),
                ('lectura_ocr', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.lecturaplacaocr')),
                ('vehiculo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.vehiculo')),
            ],
        ),
        migrations.CreateModel(
            name='Visita',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_visitante', models.CharField(max_length=100)),
                ('documento_visitante', models.CharField(blank=True, max_length=20, null=True)),
                ('telefono_visitante', models.CharField(blank=True, max_length=20, null=True)),
                ('motivo_visita', models.TextField(blank=True, null=True)),
                ('fecha_hora_programada', models.DateTimeField(blank=True, null=True)),
                ('fecha_hora_llegada', models.DateTimeField(blank=True, null=True)),
                ('fecha_hora_salida', models.DateTimeField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('programada', 'Programada'), ('confirmada_telefono', 'Confirmada por teléfono'), ('en_curso', 'En curso'), ('finalizada', 'Finalizada'), ('cancelada', 'Cancelada'), ('no_autorizada', 'No autorizada')], default='programada', max_length=30)),
                ('codigo_autorizacion', models.CharField(default='upper(substring(md5(random()::text) from 1 for 6))', max_length=10)),
                ('vehiculo_placa', models.CharField(blank=True, max_length=20, null=True)),
                ('llamada_confirmacion_realizada', models.BooleanField(default=False)),
                ('foto_ingreso_url', models.URLField(blank=True, null=True)),
                ('foto_salida_url', models.URLField(blank=True, null=True)),
                ('registro_automatico_ia', models.BooleanField(default=False)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('guardia_recepcion', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('persona_autorizante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
            ],
        ),
        migrations.CreateModel(
            name='Propiedad',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_tenencia', models.CharField(choices=[('propietario', 'Propietario'), ('inquilino', 'Inquilino')], max_length=20)),
                ('porcentaje_propiedad', models.DecimalField(decimal_places=2, default=Decimal('100.00'), max_digits=5)),
                ('fecha_inicio_tenencia', models.DateField()),
                ('fecha_fin_tenencia', models.DateField(blank=True, null=True)),
                ('activo', models.BooleanField(default=True)),
                ('persona', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.persona')),
                ('vivienda', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.vivienda')),
            ],
        ),
        migrations.AddField(
            model_name='expensasmensuales',
            name='vivienda',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.vivienda'),
        ),
        migrations.CreateModel(
            name='MetricasEspaciosComunes',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_reporte', models.DateField(auto_now_add=True)),
                ('total_reservas', models.IntegerField(default=0)),
                ('total_horas_uso', models.IntegerField(default=0)),
                ('ingresos_generados', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('gastos_mantenimiento', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('tasa_ocupacion', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('horario_mayor_demanda', models.CharField(blank=True, max_length=50, null=True)),
                ('personas_usuarios_unicos', models.IntegerField(default=0)),
                ('reservas_canceladas', models.IntegerField(default=0)),
                ('no_shows', models.IntegerField(default=0)),
                ('calificacion_promedio', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=3)),
                ('espacio_comun', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.espaciocomun')),
            ],
            options={
                'unique_together': {('espacio_comun', 'fecha_reporte')},
            },
        ),
        migrations.CreateModel(
            name='RelacionesPropietarioInquilino',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_inicio', models.DateField()),
                ('fecha_fin', models.DateField(blank=True, null=True)),
                ('contrato_alquiler', models.TextField()),
                ('monto_alquiler', models.DecimalField(decimal_places=2, default=Decimal('0'), max_digits=10)),
                ('activo', models.BooleanField(default=True)),
                ('inquilino', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inquilinos', to='core.persona')),
                ('propietario', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, related_name='propietarios', to='core.persona')),
            ],
            options={
                'unique_together': {('propietario', 'inquilino', 'activo')},
            },
        ),
        migrations.CreateModel(
            name='ReporteMensual',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periodo_year', models.IntegerField()),
                ('periodo_month', models.IntegerField()),
                ('titulo', models.CharField(max_length=200)),
                ('url_reporte', models.URLField()),
                ('fecha_generacion', models.DateTimeField(auto_now_add=True)),
                ('generado_por_usuario', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'unique_together': {('periodo_year', 'periodo_month')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='expensasmensuales',
            unique_together={('vivienda', 'periodo_year', 'periodo_month')},
        ),
    ]
