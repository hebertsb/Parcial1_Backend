# Dockerfile MÍNIMO para Railway
FROM python:3.12-slim

ENV PYTHONUNBUFFERED=1
ENV PYTHONDONTWRITEBYTECODE=1

WORKDIR /app

# Copiar solo archivos esenciales
COPY manage.py .
COPY core/ ./core/

# Instalar solo Django básico
RUN pip install --no-cache-dir django==5.2.6 djangorestframework gunicorn

EXPOSE $PORT

CMD gunicorn core.wsgi_railway:application --bind 0.0.0.0:$PORT --workers 1 --timeout 120 --log-level debug